name: CI Tests

on: [pull_request]

jobs:
  tests:
    runs-on: ubuntu-latest

    name: Address-Formatting

    steps:
      - uses: actions/checkout@v3

      - name: Set up perl
        uses: shogo82148/actions-setup-perl@v1
        with:
          perl-version: '5.34'
          install-modules-with: cpanm
          install-modules-args: --notest --force --skip-satisfied

      - name: Tests
        run: |
          cpanm File::Find::Rule~0.34
          cpanm Geo::Address::Formatter~1.997
          prove -r t
